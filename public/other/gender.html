<!DOCTYPE html>

<html>
  <head>
    <title>Gender Selection Thing</title>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="It's really cool">
    <meta name="author" content="trinkey">

    <meta property="og:type" content="website">
    <meta property="og:title" content="Gender Selection Thing">
    <meta property="og:description" content="It's really cool (trust me)">
    <meta property="og:url" content="https://trinkey.web.app/">
    <meta property="og:site_name" content="trinkey.web.app">
    <meta property="og:image" content="https://trinkey.web.app/img/cat.png">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@trinkey_2">
    <meta name="twitter:title" content="Gender Selection Thing">
    <meta name="twitter:description" content="It's really cool (trust me)">
    <meta name="twitter:image" content="https://trinkey.web.app/img/cat.png">

    <link rel="stylesheet" href="/css/base.css">
    <link rel="icon" type="image/x-icon" href="/img/favicon.ico">
  </head>

  <body>
    <script src="/src/base.js"></script>

    <table>
      <tr>
        <td class="right">Male -</td>
        <td><input value="25" id="male" type="range"></td>
        <td><span id="maleLabel">25%</span></td>
      </tr>
      <tr>
        <td class="right">Female -</td>
        <td><input value="25" id="female" type="range"></td>
        <td><span id="femaleLabel">25%</span></td>
      </tr>
      <tr>
        <td class="right">Non-Binary -</td>
        <td><input value="25" id="nb" type="range"></td>
        <td><span id="nbLabel">25%</span></td>
      </tr>
      <tr>
        <td class="right">None -</td>
        <td><input value="25" id="none" type="range"></td>
        <td><span id="noneLabel">25%</span></td>
      </tr>
      <tr>
        <td></td>
        <td class="right">Total -</td>
        <td id="tot">100%</td>
      </tr>
      <tr>
        <td></td>
        <td class="right"><button>Submit</button></td>
        <td>(this does nothing)</td>
      </tr>
    </table>

    <script>
      let values = {
        "male": 25,
        "female": 25,
        "nb": 25,
        "none": 25
      };

      dom("male").addEventListener('input', updatePercentageLabel);
      dom("female").addEventListener('input', updatePercentageLabel);
      dom("nb").addEventListener('input', updatePercentageLabel);
      dom("none").addEventListener('input', updatePercentageLabel);

      function updatePercentageLabel() {
        values[this.id] = Number(this.value);
        dom(`${this.id}Label`).innerText = `${this.value}%`;
        dom("tot").innerText = `${Object.values(values).reduce((a, b) => a + b)}%`;
      }
    </script>
  </body>
</html>
